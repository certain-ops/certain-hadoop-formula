[Unit]
Description=Hadoop YARN NodeManager Service
After=network-online.target

[Service]
Type=forking
EnvironmentFile=/etc/sysconfig/yarn_node_manager
User={{ user }}
Group={{ group }}

TimeoutStopSec=10
Restart=always
RestartSec=2

ExecStart=/opt/hadoop/bin/yarn --config /etc/hadoop --daemon start nodemanager
ExecStop=/opt/hadoop/bin/yarn --config /etc/hadoop --daemon stop nodemanager
